<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pputl 0.1.3</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><a href="index.html" style="text-decoration: none">pputl</a>
   &#160;<span id="projectnumber">0.1.3</span>
   </div>
   <div id="projectbrief">pputl Preprocessor Utilities</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">pputl 0.1.3 | <a href="https://github.com/jpcx/pputl"><em>Repo</em></a> | <a href="http://jpcx.github.io/pputl/group__pputl.html"><em>API Docs</em></a> | <a href="https://github.com/jpcx/pputl/blob/0.1.3/CHANGELOG.md"><em>CHANGELOG</em></a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_master_pputl_README"></a> </p><div class="fragment"><div class="line">                        __    ___</div>
<div class="line">                       /\ \__/\_ \</div>
<div class="line"> _____   _____   __  __\ \ ,_\//\ \</div>
<div class="line">/\ &#39;__`\/\ &#39;__`\/\ \/\ \\ \ \/ \ \ \</div>
<div class="line">\ \ \_\ \ \ \_\ \ \ \_\ \\ \ \_ \_\ \_</div>
<div class="line"> \ \ ,__/\ \ ,__/\ \____/ \ \__\/\____\</div>
<div class="line">  \ \ \   \ \ \   \/___/   \/__/\/____/</div>
<div class="line">   \/_/    \/_/</div>
<div class="line"> </div>
<div class="line">      pputl Preprocessor Utilities</div>
</div><!-- fragment --><h1>About</h1>
<p>pputl is a C++ preprocessor utilities library. It provides basic preprocessor tools <br  />
 such as concatenation of multiple symbols, control flow, integer manipulation, etc. <br  />
 It utilizes a <code>reduce</code> mechanism for some of the logic; <a href="#tools">see below</a> for more info.</p>
<p>Currently, it uses <code>__VA_OPT__</code>, so a supportive compiler is required (or C++20). <br  />
 Future releases may ship with a build script for generating the project without this requirement.</p>
<h1>Requirements</h1>
<ul>
<li>C++20 (or <code>__VA_OPT__</code> support)</li>
</ul>
<h1>Usage</h1>
<p>This is a header-only library; include the project root directory for access.</p>
<p><b>install</b></p>
<div class="fragment"><div class="line"># copies headers to ${DESTDIR}${PREFIX}/include/pputl/</div>
<div class="line">make install</div>
</div><!-- fragment --><p><b>use</b></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="pputl_8h.html">pputl/pputl.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define THREE PPUTL_SUM(1, 1, 1)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if PPUTL_NEQ(THREE, 3)</span></div>
<div class="line">static_assert(<span class="keyword">false</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define MULTICAT PPUTL_CAT(my, cool, cat) // mycoolcat</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define SUM_REDUCER(accum, val, i) PPUTL_ADD(accum, val)</span></div>
<div class="line"><span class="preprocessor">#define SUM(...) PPUTL_REDUCE(SUM_REDUCER, 0, __VA_ARGS__)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define SEVEN SUM(1, 2, 4)</span></div>
</div><!-- fragment --><h1>Tools <a class="anchor" id="tools"></a></h1>
<p>pputl comes with a <code>REDUCE</code> macro generator in the <code>tools/</code> folder. <br  />
 This script generates a set of macros that allow for pseudo-recursive value reduction. <br  />
 Due to the inability for the preprocessor to recurse (without special, [slow!] expansion logic), <br  />
 it's necessary to generate a new set of macros if <code>REDUCE</code> call chaining is desired.</p>
<p>Output is sent to stdout.</p>
<div class="fragment"><div class="line"># node genReduceMacro [NAMESPACE] [PREFIX=REDUCE] [STACK_DEPTH=256] [DETAIL=true]</div>
<div class="line">node tools/genReduceMacro NS REDUCE 4 false # true makes entry macro name NS_DETAIL_REDUCE</div>
</div><!-- fragment --><div class="fragment"><div class="line">#define NS_REDUCE(reducer, initial, ...) \</div>
<div class="line">  NS_DETAIL_REDUCE_CHOOSER(__VA_ARGS__)  \</div>
<div class="line">  (reducer, initial, (0, 1, 2, 3)__VA_OPT__(, ) __VA_ARGS__)</div>
<div class="line">#</div>
<div class="line">#define NS_DETAIL_REDUCE_CAT_X(a, b) a##b</div>
<div class="line">#define NS_DETAIL_REDUCE_CAT(a, b)   NS_DETAIL_REDUCE_CAT_X(a, b)</div>
<div class="line">#</div>
<div class="line">#define NS_DETAIL_REDUCE_FIRST(i, ...) i</div>
<div class="line">#define NS_DETAIL_REDUCE_REST(_, ...)  __VA_ARGS__</div>
<div class="line">#/*                                                                                                                      */ // clang-format off</div>
<div class="line">#define NS_DETAIL_REDUCE_0(r, a, is)         a</div>
<div class="line">#define NS_DETAIL_REDUCE_1(r, a, is, v)      r(a, v, NS_DETAIL_REDUCE_FIRST is)</div>
<div class="line">#define NS_DETAIL_REDUCE_2(r, a, is, v, ...) NS_DETAIL_REDUCE_1(r, r(a, v, NS_DETAIL_REDUCE_FIRST is), (NS_DETAIL_REDUCE_REST is), __VA_ARGS__)</div>
<div class="line">#define NS_DETAIL_REDUCE_3(r, a, is, v, ...) NS_DETAIL_REDUCE_2(r, r(a, v, NS_DETAIL_REDUCE_FIRST is), (NS_DETAIL_REDUCE_REST is), __VA_ARGS__)</div>
<div class="line">#/*                                                                                                                      */ // clang-format on</div>
<div class="line">#define NS_DETAIL_REDUCE_CHOICE(_3, _2, _1, size, ...) \</div>
<div class="line">  NS_DETAIL_REDUCE_CAT(NS_DETAIL_REDUCE_, size)</div>
<div class="line">#</div>
<div class="line">#define NS_DETAIL_REDUCE_CHOOSER(...) \</div>
<div class="line">  NS_DETAIL_REDUCE_CHOICE(__VA_ARGS__ __VA_OPT__(, ) 3, 2, 1, 0)</div>
</div><!-- fragment --><p>The reducing control flow is capable of perfoming any kind of operation, <br  />
 but other types (e.g. transform) may be useful. More generation scripts may be added here.</p>
<h1>Testing</h1>
<p>All API features are statically tested with <a href="https://github.com/jpcx/cctest">jpcx/cctest</a></p>
<div class="fragment"><div class="line">make test</div>
</div><!-- fragment --><h1>Contributing</h1>
<p>Contribution is welcome! Please make a pull request. <br  />
 I'd like to maximize the utility of the preprocessor, especially in the wake of <code>__VA_OPT__</code>.</p>
<h1>Documentation</h1>
<p><a href="http://jpcx.github.io/cctest">Project documentation</a> is generated by Doxygen and is hosted by GitHub Pages. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="ttc" id="apputl_8h_html"><div class="ttname"><a href="pputl_8h.html">pputl.h</a></div><div class="ttdoc">Group file for pputl - Contains all library functionality.</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
